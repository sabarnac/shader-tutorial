{"version":3,"file":"2e36c5b7c267e678e49f3f428c984a8881382bd5-697c47172b3be2657cbe.js","mappings":"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","sources":["webpack://shader-tutorial/./src/components/util.js","webpack://shader-tutorial/./src/components/webgl-example-view.js","webpack://shader-tutorial/./src/components/webgl-wrapper.js","webpack://shader-tutorial/./node_modules/gl-matrix/esm/common.js","webpack://shader-tutorial/./node_modules/gl-matrix/esm/mat4.js","webpack://shader-tutorial/./node_modules/gl-matrix/esm/vec2.js","webpack://shader-tutorial/./node_modules/core-js/internals/a-possible-prototype.js","webpack://shader-tutorial/./node_modules/core-js/internals/add-to-unscopables.js","webpack://shader-tutorial/./node_modules/core-js/internals/array-buffer-basic-detection.js","webpack://shader-tutorial/./node_modules/core-js/internals/array-buffer-view-core.js","webpack://shader-tutorial/./node_modules/core-js/internals/array-species-constructor.js","webpack://shader-tutorial/./node_modules/core-js/internals/array-species-create.js","webpack://shader-tutorial/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://shader-tutorial/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://shader-tutorial/./node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack://shader-tutorial/./node_modules/core-js/internals/flatten-into-array.js","webpack://shader-tutorial/./node_modules/core-js/internals/function-bind-context.js","webpack://shader-tutorial/./node_modules/core-js/internals/function-uncurry-this-accessor.js","webpack://shader-tutorial/./node_modules/core-js/internals/function-uncurry-this-clause.js","webpack://shader-tutorial/./node_modules/core-js/internals/html.js","webpack://shader-tutorial/./node_modules/core-js/internals/is-array.js","webpack://shader-tutorial/./node_modules/core-js/internals/is-constructor.js","webpack://shader-tutorial/./node_modules/core-js/internals/is-possible-prototype.js","webpack://shader-tutorial/./node_modules/core-js/internals/object-create.js","webpack://shader-tutorial/./node_modules/core-js/internals/object-define-properties.js","webpack://shader-tutorial/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://shader-tutorial/./node_modules/core-js/internals/object-keys.js","webpack://shader-tutorial/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://shader-tutorial/./node_modules/core-js/internals/to-offset.js","webpack://shader-tutorial/./node_modules/core-js/internals/to-positive-integer.js","webpack://shader-tutorial/./node_modules/core-js/modules/es.array.flat.js","webpack://shader-tutorial/./node_modules/core-js/modules/es.array.unscopables.flat.js","webpack://shader-tutorial/./node_modules/core-js/modules/es.typed-array.set.js","webpack://shader-tutorial/./node_modules/core-js/modules/es.typed-array.sort.js"],"sourcesContent":["export const runOnPredicate = (predicate, action) => () =>\n  predicate ? action() : undefined;\n\nexport const chunkArray = (array, chunk_size) =>\n  array\n    .map((_, i, all) => all.slice(i * chunk_size, (i + 1) * chunk_size))\n    .filter((x) => x.length);\n\nexport const glsl = (x) => x.join(\"\");\n\nexport const coordArrToString = (\n  coord,\n  coordMap = { x: \"x\", y: \"y\", z: \"z\" },\n) =>\n  `{ ${coordMap.x}: ${coord[0].toFixed(3)}, ${coordMap.y}: ${coord[1].toFixed(\n    3,\n  )}, ${coordMap.z}: ${coord[2].toFixed(3)} }`;\n\nexport const uvArrToString = (coord, coordMap = { u: \"u\", v: \"v\" }) =>\n  `{ ${coordMap.u}: ${coord[0].toFixed(3)}, ${coordMap.v}: ${coord[1].toFixed(\n    3,\n  )} }`;\n","import React, { useEffect, useRef, useState } from \"react\";\n\nconst wrapExample = (ExampleComponent) => {\n  return () => {\n    const [hidden, setHidden] = useState(false);\n    const [height, setHeight] = useState(480);\n\n    useEffect(() => {\n      setHidden(true);\n    }, []);\n\n    const divRef = useRef();\n    useEffect(() => {\n      if (divRef.current !== null) {\n        const div = divRef.current;\n        const observer = new IntersectionObserver((entries) => {\n          entries.forEach((entry) => {\n            if (!entry.isIntersecting) {\n              setHidden(true);\n            }\n          });\n        });\n        observer.observe(div);\n        setHeight(div.getBoundingClientRect().height);\n\n        return () => observer.unobserve(div);\n      }\n    }, [divRef]);\n\n    return hidden ? (\n      <div\n        style={{\n          padding: \"2rem\",\n          margin: \"2rem 0\",\n          border: \"1px dashed #dddddd\",\n          height: `${height}px`,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <button\n          className=\"example-view-link\"\n          onClick={() => {\n            setHidden(false);\n          }}\n        >\n          Show example\n        </button>\n      </div>\n    ) : (\n      <div\n        style={{\n          padding: \"2rem\",\n          margin: \"2rem 0\",\n          border: \"1px dashed #dddddd\",\n        }}\n        ref={divRef}\n      >\n        <ExampleComponent />\n        <div style={{ padding: \"1rem\", textAlign: \"center\" }}>\n          <button\n            className=\"example-view-link\"\n            onClick={() => {\n              setHidden(true);\n            }}\n          >\n            Hide example\n          </button>\n        </div>\n      </div>\n    );\n  };\n};\n\nexport default wrapExample;\n","import { mat4, vec2 } from \"gl-matrix\";\n\nexport default class WebGlWrapper {\n  _canvas = null;\n  canvasDimensions = {\n    width: 0,\n    height: 0,\n    scale: window.devicePixelRatio || 1,\n    aspect: 1.0,\n    fov: (45 * Math.PI) / 180,\n    zNear: 0.1,\n    zFar: 50.0,\n  };\n  _projectionMatrix = mat4.create();\n  _orthoMatrix = mat4.create();\n  _viewMatrix = mat4.create();\n  _modelMatrix = mat4.create();\n\n  _FACES = {};\n\n  constructor(canvas, modelPosition, disableDepth = false, cullFace = false) {\n    this.canvasDimensions = {\n      ...this.canvasDimensions,\n      width: canvas.width * 2,\n      height: canvas.height * 2,\n      aspect: canvas.width / canvas.height,\n    };\n    this._canvas = canvas;\n    this._cullFace = cullFace;\n\n    this._webgl = canvas.getContext(\"webgl2\");\n    if (this._webgl === null) {\n      this._showNotSupported(canvas);\n    }\n\n    this._startSetup(modelPosition, disableDepth);\n\n    this._FACES = {\n      POSITIVE_X: this._webgl.TEXTURE_CUBE_MAP_POSITIVE_X,\n      NEGATIVE_X: this._webgl.TEXTURE_CUBE_MAP_NEGATIVE_X,\n      POSITIVE_Y: this._webgl.TEXTURE_CUBE_MAP_POSITIVE_Y,\n      NEGATIVE_Y: this._webgl.TEXTURE_CUBE_MAP_NEGATIVE_Y,\n      POSITIVE_Z: this._webgl.TEXTURE_CUBE_MAP_POSITIVE_Z,\n      NEGATIVE_Z: this._webgl.TEXTURE_CUBE_MAP_NEGATIVE_Z,\n    };\n  }\n\n  _showNotSupported = () => {\n    console.error(\n      \"Unable to initialize WebGL. Your browser or machine may not support it.\",\n    );\n    const ctx = this._canvas.getContext(\"2d\");\n    ctx.scale(this.canvasDimensions.scale, this.canvasDimensions.scale);\n    if (ctx === null) {\n      const x = this.canvasDimensions.width / 2;\n      const y = this.canvasDimensions.height / 2;\n      ctx.font = \"24px sans-serif\";\n      ctx.textAlign = \"center\";\n      ctx.fillText(\"WebGL not supported\", x, y);\n      ctx.fillText(\"Please use a browser that supports WebGL\", x, y + 25);\n    }\n  };\n\n  _startSetup = (modelPosition, disableDepth) => {\n    this._resizeCanvas();\n\n    if (!disableDepth) {\n      this._webgl.enable(this._webgl.DEPTH_TEST);\n      this._webgl.depthFunc(this._webgl.LEQUAL);\n    } else {\n      this._webgl.disable(this._webgl.DEPTH_TEST);\n      this._webgl.depthMask(false);\n\n      this._webgl.enable(this._webgl.BLEND);\n      this._webgl.blendFunc(\n        this._webgl.SRC_ALPHA,\n        this._webgl.ONE_MINUS_SRC_ALPHA,\n      );\n    }\n\n    this._setupCullFace();\n\n    this._clearScreen();\n\n    this.canvasDimensions.aspect = this._canvas.width / this._canvas.height;\n\n    this._webgl.viewport(0, 0, this._canvas.width, this._canvas.height);\n\n    const { fov, aspect, zNear, zFar } = this.canvasDimensions;\n\n    mat4.ortho(this._orthoMatrix, -2 * aspect, 2 * aspect, -2, 2, zNear, zFar);\n    mat4.perspective(this._projectionMatrix, fov, aspect, zNear, zFar);\n    mat4.lookAt(\n      this._viewMatrix,\n      [0.0, 0.0, 5.0],\n      [0.0, 0.0, 0.0],\n      [0.0, 1.0, 0.0],\n    );\n    mat4.translate(this._modelMatrix, modelPosition, [0.0, 0.0, 0.0]);\n  };\n\n  _setupCullFace = () => {\n    if (!this._webgl) return;\n\n    if (this._cullFace) {\n      this._webgl.enable(this._webgl.CULL_FACE);\n      this._webgl.cullFace(this._webgl.BACK);\n    } else {\n      this._webgl.disable(this._webgl.CULL_FACE);\n    }\n  };\n\n  _clearScreen = () => {\n    if (!this._webgl) return;\n\n    this._webgl.clearColor(0.0, 0.0, 0.0, 1.0);\n    this._webgl.clearDepth(1.0);\n    this._webgl.clear(\n      this._webgl.COLOR_BUFFER_BIT | this._webgl.DEPTH_BUFFER_BIT,\n    );\n  };\n\n  _loadShaderSource = (shaderType, shaderSource) => {\n    if (!this._webgl) return;\n\n    const shader = this._webgl.createShader(shaderType);\n    this._webgl.shaderSource(shader, shaderSource);\n    this._webgl.compileShader(shader);\n\n    if (!this._webgl.getShaderParameter(shader, this._webgl.COMPILE_STATUS)) {\n      console.error(\n        `An error occurred compiling the shaders: ${this._webgl.getShaderInfoLog(\n          shader,\n        )}`,\n      );\n      this._webgl.deleteShader(shader);\n      return null;\n    }\n\n    return shader;\n  };\n\n  _isPowerOf2 = (value) => {\n    return (value & (value - 1)) === 0;\n  };\n\n  _createBuffer = (\n    bufferData,\n    buffer,\n    bufferType,\n    drawType,\n    dataType = this._webgl.FLOAT,\n  ) => {\n    if (!this._webgl) return;\n\n    if (buffer === null) {\n      buffer = this._webgl.createBuffer();\n    }\n\n    let rawBufferArray;\n    switch (dataType) {\n      case this._webgl.UNSIGNED_SHORT:\n        rawBufferArray = new Uint16Array(bufferData);\n        break;\n      default:\n        rawBufferArray = new Float32Array(bufferData);\n    }\n\n    this._webgl.bindBuffer(bufferType, buffer);\n    this._webgl.bufferData(bufferType, rawBufferArray, drawType);\n\n    this._webgl.bindBuffer(bufferType, null);\n\n    return buffer;\n  };\n\n  _resizeCanvas = () => {\n    if (!this._webgl) return;\n\n    if (\n      this._canvas.width !==\n      this._canvas.clientWidth * this.canvasDimensions.scale\n    ) {\n      this._canvas.width =\n        this._canvas.clientWidth * this.canvasDimensions.scale;\n      this._canvas.height =\n        (this._canvas.clientWidth * this.canvasDimensions.scale * 3) / 4;\n\n      this.canvasDimensions.width = this._canvas.width * 2;\n      this.canvasDimensions.height = this._canvas.height * 2;\n\n      this._webgl.viewport(\n        0,\n        0,\n        this.canvasDimensions.width,\n        this.canvasDimensions.height,\n      );\n\n      this.canvasDimensions.aspect =\n        this._canvas.clientWidth / this._canvas.clientHeight;\n    }\n  };\n\n  createShaderProgram = (vertexShaderSource, fragmentShaderSource) => {\n    if (!this._webgl) return;\n\n    const vertexShader = this._loadShaderSource(\n      this._webgl.VERTEX_SHADER,\n      vertexShaderSource,\n    );\n    const fragmentShader = this._loadShaderSource(\n      this._webgl.FRAGMENT_SHADER,\n      fragmentShaderSource,\n    );\n\n    if (vertexShader === null || fragmentShader === null) {\n      return null;\n    }\n\n    const shaderProgram = this._webgl.createProgram();\n    this._webgl.attachShader(shaderProgram, vertexShader);\n    this._webgl.attachShader(shaderProgram, fragmentShader);\n    this._webgl.linkProgram(shaderProgram);\n\n    this._webgl.deleteShader(vertexShader);\n    this._webgl.deleteShader(fragmentShader);\n\n    if (\n      !this._webgl.getProgramParameter(shaderProgram, this._webgl.LINK_STATUS)\n    ) {\n      console.error(\n        `Unable to initialize the shader program: ${this._webgl.getProgramInfoLog(\n          shaderProgram,\n        )}`,\n      );\n      return null;\n    }\n\n    return shaderProgram;\n  };\n\n  createSingleColorImageTexture = (\n    texture,\n    imageColor = [255, 255, 255, 255],\n  ) => {\n    if (!this._webgl) return;\n\n    if (texture === null) {\n      texture = this._webgl.createTexture();\n    }\n\n    this._webgl.bindTexture(this._webgl.TEXTURE_2D, texture);\n\n    const level = 0;\n    const internalFormat = this._webgl.RGBA;\n    const width = 1;\n    const height = 1;\n    const border = 0;\n    const srcFormat = this._webgl.RGBA;\n    const srcType = this._webgl.UNSIGNED_BYTE;\n    const pixel = new Uint8Array(imageColor);\n    this._webgl.texImage2D(\n      this._webgl.TEXTURE_2D,\n      level,\n      internalFormat,\n      width,\n      height,\n      border,\n      srcFormat,\n      srcType,\n      pixel,\n    );\n\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_WRAP_S,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_WRAP_T,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_MIN_FILTER,\n      this._webgl.LINEAR,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_MAG_FILTER,\n      this._webgl.LINEAR,\n    );\n\n    this._webgl.bindTexture(this._webgl.TEXTURE_2D, null);\n\n    return texture;\n  };\n\n  createImageTexture = (imageSrc, texture) => {\n    if (!this._webgl) return;\n\n    if (texture === null) {\n      texture = this._webgl.createTexture();\n    }\n\n    this._webgl.bindTexture(this._webgl.TEXTURE_2D, texture);\n\n    const level = 0;\n    const internalFormat = this._webgl.RGBA;\n    const width = 1;\n    const height = 1;\n    const border = 0;\n    const srcFormat = this._webgl.RGBA;\n    const srcType = this._webgl.UNSIGNED_BYTE;\n    const pixel = new Uint8Array([255, 255, 255, 255]);\n    this._webgl.texImage2D(\n      this._webgl.TEXTURE_2D,\n      level,\n      internalFormat,\n      width,\n      height,\n      border,\n      srcFormat,\n      srcType,\n      pixel,\n    );\n\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_WRAP_S,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_WRAP_T,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_MIN_FILTER,\n      this._webgl.LINEAR,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_MAG_FILTER,\n      this._webgl.LINEAR,\n    );\n\n    const image = new Image();\n    image.addEventListener(\"load\", () => {\n      this._webgl.pixelStorei(this._webgl.UNPACK_FLIP_Y_WEBGL, true);\n\n      this._webgl.bindTexture(this._webgl.TEXTURE_2D, texture);\n\n      this._webgl.texImage2D(\n        this._webgl.TEXTURE_2D,\n        level,\n        internalFormat,\n        srcFormat,\n        srcType,\n        image,\n      );\n\n      if (this._isPowerOf2(image.width) && this._isPowerOf2(image.height)) {\n        this._webgl.generateMipmap(this._webgl.TEXTURE_2D);\n      }\n\n      this._webgl.bindTexture(this._webgl.TEXTURE_2D, null);\n\n      this._webgl.pixelStorei(this._webgl.UNPACK_FLIP_Y_WEBGL, false);\n    });\n    image.src = imageSrc;\n\n    this._webgl.bindTexture(this._webgl.TEXTURE_2D, null);\n\n    return texture;\n  };\n\n  createCubeMapTexture = (imageSrcMap, texture) => {\n    if (!this._webgl) return;\n\n    if (texture === null) {\n      texture = this._webgl.createTexture();\n    }\n\n    this._webgl.bindTexture(this._webgl.TEXTURE_CUBE_MAP, texture);\n\n    const level = 0;\n    const internalFormat = this._webgl.RGBA;\n    const width = 1;\n    const height = 1;\n    const border = 0;\n    const srcFormat = this._webgl.RGBA;\n    const srcType = this._webgl.UNSIGNED_BYTE;\n    const pixel = new Uint8Array([255, 255, 255, 255]);\n\n    Object.values(this._FACES).forEach((face) => {\n      this._webgl.texImage2D(\n        face,\n        level,\n        internalFormat,\n        width,\n        height,\n        border,\n        srcFormat,\n        srcType,\n        pixel,\n      );\n    });\n\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_CUBE_MAP,\n      this._webgl.TEXTURE_WRAP_S,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_CUBE_MAP,\n      this._webgl.TEXTURE_WRAP_T,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_CUBE_MAP,\n      this._webgl.TEXTURE_WRAP_R,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_CUBE_MAP,\n      this._webgl.TEXTURE_MIN_FILTER,\n      this._webgl.LINEAR,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_CUBE_MAP,\n      this._webgl.TEXTURE_MAG_FILTER,\n      this._webgl.LINEAR,\n    );\n\n    imageSrcMap.forEach(({ id, face, src }) => {\n      if (!face) {\n        face = this._FACES[id];\n      }\n\n      const image = new Image();\n      image.addEventListener(\"load\", () => {\n        this._webgl.bindTexture(this._webgl.TEXTURE_CUBE_MAP, texture);\n\n        this._webgl.texImage2D(\n          face,\n          level,\n          internalFormat,\n          srcFormat,\n          srcType,\n          image,\n        );\n\n        if (this._isPowerOf2(image.width) && this._isPowerOf2(image.height)) {\n          this._webgl.generateMipmap(this._webgl.TEXTURE_CUBE_MAP);\n        }\n\n        this._webgl.bindTexture(this._webgl.TEXTURE_CUBE_MAP, null);\n      });\n      image.src = src;\n    });\n\n    this._webgl.bindTexture(this._webgl.TEXTURE_CUBE_MAP, null);\n\n    return texture;\n  };\n\n  createRenderTargetTexture = (texture) => {\n    if (!this._webgl) return;\n\n    this._resizeCanvas();\n\n    if (texture === null) {\n      texture = this._webgl.createTexture();\n    }\n\n    this._webgl.bindTexture(this._webgl.TEXTURE_2D, texture);\n\n    const level = 0;\n    const internalFormat = this._webgl.RGBA;\n    const width = this.canvasDimensions.width;\n    const height = this.canvasDimensions.height;\n    const border = 0;\n    const srcFormat = this._webgl.RGBA;\n    const srcType = this._webgl.UNSIGNED_BYTE;\n    this._webgl.texImage2D(\n      this._webgl.TEXTURE_2D,\n      level,\n      internalFormat,\n      width,\n      height,\n      border,\n      srcFormat,\n      srcType,\n      null,\n    );\n\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_WRAP_S,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_WRAP_T,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_MIN_FILTER,\n      this._webgl.NEAREST,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_2D,\n      this._webgl.TEXTURE_MAG_FILTER,\n      this._webgl.NEAREST,\n    );\n\n    this._webgl.bindTexture(this._webgl.TEXTURE_2D, null);\n\n    return texture;\n  };\n\n  createCubeMapRenderTargetTexture = (texture) => {\n    if (!this._webgl) return;\n\n    this._resizeCanvas();\n\n    if (texture === null) {\n      texture = this._webgl.createTexture();\n    }\n\n    this._webgl.bindTexture(this._webgl.TEXTURE_CUBE_MAP, texture);\n\n    const level = 0;\n    const internalFormat = this._webgl.RGBA;\n    const width = this.canvasDimensions.width;\n    const height = this.canvasDimensions.width;\n    const border = 0;\n    const srcFormat = this._webgl.RGBA;\n    const srcType = this._webgl.UNSIGNED_BYTE;\n    const faces = [\n      this._webgl.TEXTURE_CUBE_MAP_POSITIVE_X,\n      this._webgl.TEXTURE_CUBE_MAP_NEGATIVE_X,\n      this._webgl.TEXTURE_CUBE_MAP_POSITIVE_Y,\n      this._webgl.TEXTURE_CUBE_MAP_NEGATIVE_Y,\n      this._webgl.TEXTURE_CUBE_MAP_POSITIVE_Z,\n      this._webgl.TEXTURE_CUBE_MAP_NEGATIVE_Z,\n    ];\n    faces.forEach((face) => {\n      this._webgl.texImage2D(\n        face,\n        level,\n        internalFormat,\n        width,\n        height,\n        border,\n        srcFormat,\n        srcType,\n        null,\n      );\n    });\n\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_CUBE_MAP,\n      this._webgl.TEXTURE_WRAP_S,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_CUBE_MAP,\n      this._webgl.TEXTURE_WRAP_T,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_CUBE_MAP,\n      this._webgl.TEXTURE_WRAP_R,\n      this._webgl.CLAMP_TO_EDGE,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_CUBE_MAP,\n      this._webgl.TEXTURE_MIN_FILTER,\n      this._webgl.LINEAR,\n    );\n    this._webgl.texParameteri(\n      this._webgl.TEXTURE_CUBE_MAP,\n      this._webgl.TEXTURE_MAG_FILTER,\n      this._webgl.LINEAR,\n    );\n\n    this._webgl.bindTexture(this._webgl.TEXTURE_CUBE_MAP, null);\n\n    return texture;\n  };\n\n  getDataLocations = (shaderProgram, programInfo) => {\n    if (!this._webgl) return;\n\n    const dataLocation = {};\n    for (let type in programInfo) {\n      const locationDetails = programInfo[type];\n\n      dataLocation[type] = {\n        attributeLocations: {},\n        uniformLocations: {},\n      };\n\n      for (let dataAttribute in locationDetails.attributeLocations) {\n        dataLocation[type].attributeLocations[dataAttribute] =\n          this._webgl.getAttribLocation(shaderProgram, dataAttribute);\n      }\n\n      for (let dataAttribute in locationDetails.uniformLocations) {\n        dataLocation[type].uniformLocations[dataAttribute] =\n          this._webgl.getUniformLocation(shaderProgram, dataAttribute);\n      }\n    }\n\n    return dataLocation;\n  };\n\n  createStaticDrawArrayBuffer = (bufferData, buffer) => {\n    if (!this._webgl) return;\n\n    return this._createBuffer(\n      bufferData,\n      buffer,\n      this._webgl.ARRAY_BUFFER,\n      this._webgl.STATIC_DRAW,\n    );\n  };\n\n  createElementArrayBuffer = (elementData, buffer) => {\n    if (!this._webgl) return;\n\n    return this._createBuffer(\n      elementData,\n      buffer,\n      this._webgl.ELEMENT_ARRAY_BUFFER,\n      this._webgl.STATIC_DRAW,\n      this._webgl.UNSIGNED_SHORT,\n    );\n  };\n\n  createTextureTargetFramebuffer = (\n    renderTarget,\n    frameBuffer,\n    bindDepth = false,\n  ) => {\n    if (!this._webgl) return;\n\n    this._resizeCanvas();\n\n    if (frameBuffer === null) {\n      frameBuffer = this._webgl.createFramebuffer();\n    }\n\n    this._webgl.bindFramebuffer(this._webgl.FRAMEBUFFER, frameBuffer);\n    this._webgl.framebufferTexture2D(\n      this._webgl.FRAMEBUFFER,\n      this._webgl.COLOR_ATTACHMENT0,\n      this._webgl.TEXTURE_2D,\n      renderTarget,\n      0,\n    );\n    if (bindDepth) {\n      const depthBuffer = this._webgl.createRenderbuffer();\n      this._webgl.bindRenderbuffer(this._webgl.RENDERBUFFER, depthBuffer);\n      this._webgl.renderbufferStorage(\n        this._webgl.RENDERBUFFER,\n        this._webgl.DEPTH_COMPONENT16,\n        this.canvasDimensions.width,\n        this.canvasDimensions.height,\n      );\n      this._webgl.framebufferRenderbuffer(\n        this._webgl.FRAMEBUFFER,\n        this._webgl.DEPTH_ATTACHMENT,\n        this._webgl.RENDERBUFFER,\n        depthBuffer,\n      );\n    }\n\n    this._webgl.bindFramebuffer(this._webgl.FRAMEBUFFER, null);\n\n    return frameBuffer;\n  };\n\n  createCubeMapTargetFramebuffer = (\n    renderTarget,\n    cubeMapFace,\n    frameBuffer,\n    bindDepth = false,\n  ) => {\n    if (!this._webgl) return;\n\n    this._resizeCanvas();\n\n    if (frameBuffer === null) {\n      frameBuffer = this._webgl.createFramebuffer();\n    }\n\n    this._webgl.bindFramebuffer(this._webgl.FRAMEBUFFER, frameBuffer);\n    this._webgl.framebufferTexture2D(\n      this._webgl.FRAMEBUFFER,\n      this._webgl.COLOR_ATTACHMENT0,\n      this._FACES[cubeMapFace],\n      renderTarget,\n      0,\n    );\n\n    if (bindDepth) {\n      const depthBuffer = this._webgl.createRenderbuffer();\n      this._webgl.bindRenderbuffer(this._webgl.RENDERBUFFER, depthBuffer);\n      this._webgl.renderbufferStorage(\n        this._webgl.RENDERBUFFER,\n        this._webgl.DEPTH_COMPONENT16,\n        this.canvasDimensions.width,\n        this.canvasDimensions.width,\n      );\n      this._webgl.framebufferRenderbuffer(\n        this._webgl.FRAMEBUFFER,\n        this._webgl.DEPTH_ATTACHMENT,\n        this._webgl.RENDERBUFFER,\n        depthBuffer,\n      );\n    }\n\n    this._webgl.bindFramebuffer(this._webgl.FRAMEBUFFER, null);\n\n    return frameBuffer;\n  };\n\n  renderToCubeMapFramebuffer = (frameBuffer, renderer) => {\n    if (!this._webgl) return;\n\n    this._webgl.viewport(\n      0,\n      0,\n      this.canvasDimensions.width,\n      this.canvasDimensions.width,\n    );\n    this._webgl.bindFramebuffer(this._webgl.FRAMEBUFFER, frameBuffer);\n\n    renderer();\n\n    this._webgl.bindFramebuffer(this._webgl.FRAMEBUFFER, null);\n    this._webgl.viewport(0, 0, this._canvas.width, this._canvas.height);\n  };\n\n  renderToFramebuffer = (frameBuffer, renderer) => {\n    if (!this._webgl) return;\n\n    this._webgl.viewport(\n      0,\n      0,\n      this.canvasDimensions.width,\n      this.canvasDimensions.height,\n    );\n    this._webgl.bindFramebuffer(this._webgl.FRAMEBUFFER, frameBuffer);\n\n    renderer();\n\n    this._webgl.bindFramebuffer(this._webgl.FRAMEBUFFER, null);\n    this._webgl.viewport(0, 0, this._canvas.width, this._canvas.height);\n  };\n\n  renderScene = (renderer) => {\n    if (!this._webgl) return;\n\n    this._resizeCanvas();\n\n    const renderInfo = {\n      gl: this._webgl,\n      projectionMatrix: this._projectionMatrix,\n      viewMatrix: this._viewMatrix,\n      modelMatrix: this._modelMatrix,\n      resolution: vec2.fromValues(\n        this.canvasDimensions.width,\n        this.canvasDimensions.height,\n      ),\n    };\n    this._clearScreen();\n    renderer(renderInfo);\n  };\n\n  renderSceneOrtho = (renderer) => {\n    if (!this._webgl) return;\n\n    this._resizeCanvas();\n\n    const renderInfo = {\n      gl: this._webgl,\n      orthoMatrix: this._orthoMatrix,\n      viewMatrix: this._viewMatrix,\n      modelMatrix: this._modelMatrix,\n      resolution: vec2.fromValues(\n        this.canvasDimensions.width,\n        this.canvasDimensions.height,\n      ),\n    };\n    this._clearScreen();\n    renderer(renderInfo);\n  };\n\n  destroy = () => {\n    this.canvasDimensions = {\n      width: 0,\n      height: 0,\n      aspect: 1.0,\n      fov: (45 * Math.PI) / 180,\n      zNear: 0.1,\n      zFar: 100.0,\n    };\n    this._webgl = null;\n  };\n}\n","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","'use strict';\nvar isPossiblePrototype = require('../internals/is-possible-prototype');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (isPossiblePrototype(argument)) return argument;\n  throw new $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] === undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\n// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-basic-detection');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar classof = require('../internals/classof');\nvar tryToString = require('../internals/try-to-string');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar Int8Array = globalThis.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = globalThis.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar TypeError = globalThis.TypeError;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar TYPED_ARRAY_CONSTRUCTOR = 'TypedArrayConstructor';\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(globalThis.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQUIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar getTypedArrayConstructor = function (it) {\n  var proto = getPrototypeOf(it);\n  if (!isObject(proto)) return;\n  var state = getInternalState(proto);\n  return (state && hasOwn(state, TYPED_ARRAY_CONSTRUCTOR)) ? state[TYPED_ARRAY_CONSTRUCTOR] : getTypedArrayConstructor(proto);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw new TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;\n  throw new TypeError(tryToString(C) + ' is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced, options) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = globalThis[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) {\n      // old WebKit bug - some methods are non-configurable\n      try {\n        TypedArrayConstructor.prototype[KEY] = property;\n      } catch (error2) { /* empty */ }\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    defineBuiltIn(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property, options);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = globalThis[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return defineBuiltIn(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = globalThis[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      defineBuiltIn(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = globalThis[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = globalThis[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw new TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (globalThis[NAME]) setPrototypeOf(globalThis[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (globalThis[NAME]) setPrototypeOf(globalThis[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQUIRED = true;\n  defineBuiltInAccessor(TypedArrayPrototype, TO_STRING_TAG, {\n    configurable: true,\n    get: function () {\n      return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n    }\n  });\n  for (NAME in TypedArrayConstructorsList) if (globalThis[NAME]) {\n    createNonEnumerableProperty(globalThis[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQUIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  getTypedArrayConstructor: getTypedArrayConstructor,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar $Array = Array;\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? $Array : C;\n};\n","'use strict';\nvar arraySpeciesConstructor = require('../internals/array-species-constructor');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg) : false;\n  var element, elementLen;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        elementLen = lengthOfArrayLike(element);\n        targetIndex = flattenIntoArray(target, original, element, elementLen, targetIndex, depth - 1) - 1;\n      } else {\n        doesNotExceedSafeInteger(targetIndex + 1);\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n","'use strict';\nvar classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar noop = function () { /* empty */ };\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.test(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, [], argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n  }\n  try {\n    // we can't check .prototype since constructors produced by .bind haven't it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nmodule.exports = function (argument) {\n  return isObject(argument) || argument === null;\n};\n","'use strict';\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  // eslint-disable-next-line no-useless-assignment -- avoid memory leak\n  activeXDocument = null;\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\n/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar isObject = require('../internals/is-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    requireObjectCoercible(O);\n    aPossiblePrototype(proto);\n    if (!isObject(O)) return O;\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar toPositiveInteger = require('../internals/to-positive-integer');\n\nvar $RangeError = RangeError;\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw new $RangeError('Wrong offset');\n  return offset;\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar $RangeError = RangeError;\n\nmodule.exports = function (it) {\n  var result = toIntegerOrInfinity(it);\n  if (result < 0) throw new $RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://tc39.es/ecma262/#sec-array.prototype.flat\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = lengthOfArrayLike(O);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toIntegerOrInfinity(depthArg));\n    return A;\n  }\n});\n","'use strict';\n// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flat');\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar call = require('../internals/function-call');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toOffset = require('../internals/to-offset');\nvar toIndexedObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar RangeError = globalThis.RangeError;\nvar Int8Array = globalThis.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar $set = Int8ArrayPrototype && Int8ArrayPrototype.set;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS = !fails(function () {\n  // eslint-disable-next-line es/no-typed-arrays -- required for testing\n  var array = new Uint8ClampedArray(2);\n  call($set, array, { length: 1, 0: 3 }, 1);\n  return array[1] !== 3;\n});\n\n// https://bugs.chromium.org/p/v8/issues/detail?id=11294 and other\nvar TO_OBJECT_BUG = WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS && ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS && fails(function () {\n  var array = new Int8Array(2);\n  array.set(1);\n  array.set('2', 1);\n  return array[0] !== 0 || array[1] !== 2;\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var src = toIndexedObject(arrayLike);\n  if (WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS) return call($set, this, src, offset);\n  var length = this.length;\n  var len = lengthOfArrayLike(src);\n  var index = 0;\n  if (len + offset > length) throw new RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, !WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS || TO_OBJECT_BUG);\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar fails = require('../internals/fails');\nvar aCallable = require('../internals/a-callable');\nvar internalSort = require('../internals/array-sort');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar FF = require('../internals/environment-ff-version');\nvar IE_OR_EDGE = require('../internals/environment-is-ie-or-edge');\nvar V8 = require('../internals/environment-v8-version');\nvar WEBKIT = require('../internals/environment-webkit-version');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar Uint16Array = globalThis.Uint16Array;\nvar nativeSort = Uint16Array && uncurryThis(Uint16Array.prototype.sort);\n\n// WebKit\nvar ACCEPT_INCORRECT_ARGUMENTS = !!nativeSort && !(fails(function () {\n  nativeSort(new Uint16Array(2), null);\n}) && fails(function () {\n  nativeSort(new Uint16Array(2), {});\n}));\n\nvar STABLE_SORT = !!nativeSort && !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 74;\n  if (FF) return FF < 67;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 602;\n\n  var array = new Uint16Array(516);\n  var expected = Array(516);\n  var index, mod;\n\n  for (index = 0; index < 516; index++) {\n    mod = index % 4;\n    array[index] = 515 - index;\n    expected[index] = index - 2 * mod + 3;\n  }\n\n  nativeSort(array, function (a, b) {\n    return (a / 4 | 0) - (b / 4 | 0);\n  });\n\n  for (index = 0; index < 516; index++) {\n    if (array[index] !== expected[index]) return true;\n  }\n});\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (y !== y) return -1;\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (x !== x) return 1;\n    if (x === 0 && y === 0) return 1 / x > 0 && 1 / y < 0 ? 1 : -1;\n    return x > y;\n  };\n};\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  if (comparefn !== undefined) aCallable(comparefn);\n  if (STABLE_SORT) return nativeSort(this, comparefn);\n\n  return internalSort(aTypedArray(this), getSortCompare(comparefn));\n}, !STABLE_SORT || ACCEPT_INCORRECT_ARGUMENTS);\n"],"names":["runOnPredicate","predicate","action","undefined","coordArrToString","coord","coordMap","x","y","z","toFixed","uvArrToString","u","v","ExampleComponent","hidden","setHidden","useState","height","setHeight","useEffect","divRef","useRef","current","div","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","observe","getBoundingClientRect","unobserve","React","style","padding","margin","border","display","alignItems","justifyContent","className","onClick","ref","textAlign","WebGlWrapper","canvas","modelPosition","disableDepth","cullFace","_this","_canvas","canvasDimensions","width","scale","window","devicePixelRatio","aspect","fov","Math","PI","zNear","zFar","_projectionMatrix","mat4","_orthoMatrix","_viewMatrix","_modelMatrix","_FACES","_showNotSupported","console","error","ctx","this","getContext","font","fillText","_startSetup","_resizeCanvas","_webgl","disable","DEPTH_TEST","depthMask","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","depthFunc","LEQUAL","_setupCullFace","_clearScreen","viewport","_cullFace","CULL_FACE","BACK","clearColor","clearDepth","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","_loadShaderSource","shaderType","shaderSource","shader","createShader","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","_isPowerOf2","value","_createBuffer","bufferData","buffer","bufferType","drawType","dataType","FLOAT","rawBufferArray","createBuffer","UNSIGNED_SHORT","Uint16Array","Float32Array","bindBuffer","clientWidth","clientHeight","createShaderProgram","vertexShaderSource","fragmentShaderSource","vertexShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","shaderProgram","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","createSingleColorImageTexture","texture","imageColor","createTexture","bindTexture","TEXTURE_2D","internalFormat","RGBA","srcFormat","srcType","UNSIGNED_BYTE","pixel","Uint8Array","texImage2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","createImageTexture","imageSrc","image","Image","addEventListener","pixelStorei","UNPACK_FLIP_Y_WEBGL","generateMipmap","src","createCubeMapTexture","imageSrcMap","TEXTURE_CUBE_MAP","Object","values","face","TEXTURE_WRAP_R","_ref","id","createRenderTargetTexture","NEAREST","createCubeMapRenderTargetTexture","TEXTURE_CUBE_MAP_POSITIVE_X","TEXTURE_CUBE_MAP_NEGATIVE_X","TEXTURE_CUBE_MAP_POSITIVE_Y","TEXTURE_CUBE_MAP_NEGATIVE_Y","TEXTURE_CUBE_MAP_POSITIVE_Z","TEXTURE_CUBE_MAP_NEGATIVE_Z","getDataLocations","programInfo","dataLocation","type","locationDetails","attributeLocations","uniformLocations","dataAttribute","getAttribLocation","getUniformLocation","createStaticDrawArrayBuffer","ARRAY_BUFFER","STATIC_DRAW","createElementArrayBuffer","elementData","ELEMENT_ARRAY_BUFFER","createTextureTargetFramebuffer","renderTarget","frameBuffer","bindDepth","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","depthBuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferRenderbuffer","DEPTH_ATTACHMENT","createCubeMapTargetFramebuffer","cubeMapFace","renderToCubeMapFramebuffer","renderer","renderToFramebuffer","renderScene","renderInfo","gl","projectionMatrix","viewMatrix","modelMatrix","resolution","vec2","renderSceneOrtho","orthoMatrix","destroy","assign","POSITIVE_X","NEGATIVE_X","POSITIVE_Y","NEGATIVE_Y","POSITIVE_Z","NEGATIVE_Z","EPSILON","ARRAY_TYPE","Array","random","hypot","i","arguments","length","sqrt","create","out","multiply","a","b","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","translate","rotateX","rad","s","sin","c","cos","rotateY","rotateZ","fromTranslation","perspective","fovy","near","far","nf","f","tan","Infinity","ortho","left","right","bottom","top","lr","bt","lookAt","eye","center","up","x0","x1","x2","y0","y1","y2","z0","z1","z2","len","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","abs","identity","clone","fromValues","subtract","vec","isPossiblePrototype","$String","String","$TypeError","TypeError","module","exports","argument","wellKnownSymbol","defineProperty","UNSCOPABLES","ArrayPrototype","prototype","configurable","key","ArrayBuffer","DataView","NAME","Constructor","Prototype","NATIVE_ARRAY_BUFFER","DESCRIPTORS","globalThis","isCallable","isObject","hasOwn","classof","tryToString","createNonEnumerableProperty","defineBuiltIn","defineBuiltInAccessor","isPrototypeOf","getPrototypeOf","setPrototypeOf","uid","InternalStateModule","enforceInternalState","enforce","getInternalState","get","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","TO_STRING_TAG","TYPED_ARRAY_TAG","TYPED_ARRAY_CONSTRUCTOR","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQUIRED","TypedArrayConstructorsList","Int16Array","Int32Array","Uint32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","getTypedArrayConstructor","it","proto","state","isTypedArray","klass","Function","aTypedArray","aTypedArrayConstructor","C","exportTypedArrayMethod","KEY","property","forced","options","ARRAY","TypedArrayConstructor","error2","exportTypedArrayStaticMethod","isView","isArray","isConstructor","SPECIES","$Array","originalArray","constructor","arraySpeciesConstructor","fails","F","makeBuiltIn","target","name","descriptor","getter","set","setter","lengthOfArrayLike","doesNotExceedSafeInteger","bind","flattenIntoArray","original","source","sourceLen","start","depth","mapper","thisArg","element","elementLen","targetIndex","sourceIndex","mapFn","uncurryThis","aCallable","NATIVE_BIND","fn","that","apply","object","method","getOwnPropertyDescriptor","classofRaw","getBuiltIn","inspectSource","noop","construct","constructorRegExp","exec","INCORRECT_TO_STRING","test","isConstructorModern","isConstructorLegacy","sham","called","call","activeXDocument","anObject","definePropertiesModule","enumBugKeys","hiddenKeys","html","documentCreateElement","sharedKey","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","JS","document","domain","appendChild","contentWindow","open","O","Properties","result","V8_PROTOTYPE_DEFINE_BUG","definePropertyModule","toIndexedObject","objectKeys","defineProperties","props","keys","index","toObject","CORRECT_PROTOTYPE_GETTER","$Object","internalObjectKeys","uncurryThisAccessor","requireObjectCoercible","aPossiblePrototype","CORRECT_SETTER","__proto__","toPositiveInteger","$RangeError","RangeError","BYTES","offset","toIntegerOrInfinity","$","arraySpeciesCreate","flat","depthArg","A","addToUnscopables","ArrayBufferViewCore","toOffset","$set","WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS","array","TO_OBJECT_BUG","arrayLike","internalSort","FF","IE_OR_EDGE","V8","WEBKIT","nativeSort","sort","ACCEPT_INCORRECT_ARGUMENTS","STABLE_SORT","mod","expected","comparefn","getSortCompare"],"sourceRoot":""}